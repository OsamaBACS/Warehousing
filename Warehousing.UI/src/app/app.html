<div class="min-h-screen bg-gray-50">
  <nav class="bg-white shadow-sm sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" *ngIf="authService.isAuthenticated()">
      <div class="flex justify-between items-center h-16">
        <!-- Brand / Title -->
        <a class="flex items-center space-x-2 text-gray-900 hover:text-blue-600 transition-colors" routerLink="/home">
          <i class="bi bi-house-check-fill text-xl"></i>
          <!-- <span class="font-bold">MyApp</span> -->
        </a>

        <!-- Right-aligned Actions -->
        <div class="flex items-center space-x-2">
          <div class="px-2">
            <h3 class="text-lg font-semibold text-gray-900">{{ username }}</h3>
          </div>

          <!-- Language Toggle (Single Button Switch) -->
          <button class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors" 
            (click)="toggleLanguage()" [title]="'LANGUAGE.TOGGLE' | translate">
            <i class="bi bi-translate mr-1"></i>
            <span>{{ currentLang === 'en' ? 'AR' : 'EN' }}</span>
          </button>

          <!-- Order list Button -->
          <button class="inline-flex items-center px-3 py-2 border border-green-300 shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 bg-white hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"
            routerLink="/pending-orders" [title]="'Logout'">
            <i class="bi bi-list-ul"></i>
            <!-- <span>Logout</span> -->
          </button>

          <!-- Cart Icon -->
          <button class="relative inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors" 
            routerLink="/cart" [title]="'View Cart'">
            <i class="bi bi-cart-dash"></i>
            <!-- Optional: Badge for item count -->
            <span class="absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full"
              *ngIf="cartService.cartCount$ | async as count" [hidden]="count === 0">
              {{ count }}
              <span class="sr-only">items in cart</span>
            </span>
          </button>

          <!-- Logout Button -->
          <button *ngIf="authService.isAuthenticated()" 
            class="inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"
            (click)="logout()" [title]="'Logout'">
            <i class="bi bi-box-arrow-right mr-1"></i>
            <!-- <span>Logout</span> -->
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main content area -->
  <main class="min-h-screen">
    <router-outlet></router-outlet>
  </main>
</div>

<app-spinner></app-spinner>