<div class="min-h-screen bg-gray-50">
  <nav class="bg-white shadow-sm sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-2 sm:px-4 lg:px-8" *ngIf="authService.isAuthenticated()">
      <div class="flex justify-between items-center h-14 sm:h-16">
        <!-- Brand / Title -->
        <a class="flex items-center space-x-1 sm:space-x-2 text-gray-900 hover:text-blue-600 transition-colors" (click)="goToHome()">
          <i class="bi bi-house-check-fill text-lg sm:text-xl"></i>
          <!-- <span class="font-bold hidden sm:block">MyApp</span> -->
        </a>

        <!-- Right-aligned Actions -->
        <div class="flex items-center space-x-1 sm:space-x-2">
          <!-- User Name - Responsive -->
          <div class="px-1 sm:px-2 hidden sm:block">
            <h3 class="text-sm sm:text-lg font-semibold text-gray-900 truncate max-w-32">
              {{ getUserDisplayName() }}
            </h3>
          </div>

          <!-- Mobile User Name -->
          <div class="px-1 sm:hidden">
            <h3 class="text-xs font-semibold text-gray-900 truncate max-w-20">
              {{ getUserDisplayName() | slice:0:8 }}{{ (getUserDisplayName().length > 8) ? '...' : '' }}
            </h3>
          </div>

          <!-- Language Toggle (Responsive) -->
          <button class="inline-flex items-center justify-center w-8 h-8 sm:w-12 sm:h-10 border shadow-sm text-xs sm:text-sm leading-4 font-medium rounded-md transition-colors" 
            [class]="currentLang === 'ar' ? 'border-blue-300 text-blue-700 bg-blue-50 hover:bg-blue-100' : 'border-green-300 text-green-700 bg-green-50 hover:bg-green-100'"
            (click)="toggleLanguage()" 
            [title]="getLanguageTooltip()">
            <i class="bi bi-translate text-sm sm:text-lg mr-0 sm:mr-1"></i>
            <span class="text-xs font-bold">{{ currentLang === 'ar' ? 'Ø¹' : 'EN' }}</span>
          </button>

          <!-- Order list Button (Responsive) -->
          <button class="inline-flex items-center px-2 sm:px-3 py-2 border border-green-300 shadow-sm text-xs sm:text-sm leading-4 font-medium rounded-md text-green-700 bg-white hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"
            routerLink="/pending-orders" [title]="'Orders'">
            <i class="bi bi-list-ul text-sm sm:text-base"></i>
            <!-- <span class="hidden sm:inline">Orders</span> -->
          </button>

          <!-- Cart Icon (Responsive) -->
          <button class="relative inline-flex items-center px-2 sm:px-3 py-2 border border-blue-300 shadow-sm text-xs sm:text-sm leading-4 font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors" 
            routerLink="/cart" [title]="'View Cart'">
            <i class="bi bi-cart-dash text-sm sm:text-base"></i>
            <!-- Optional: Badge for item count -->
            <span class="absolute -top-1 -right-1 sm:-top-2 sm:-right-2 inline-flex items-center justify-center px-1 sm:px-2 py-0.5 sm:py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full"
              *ngIf="cartService.cartCount$ | async as count" [hidden]="count === 0">
              {{ count }}
              <span class="sr-only">items in cart</span>
            </span>
          </button>

          <!-- Logout Button (Responsive) -->
          <button *ngIf="authService.isAuthenticated()" 
            class="inline-flex items-center px-2 sm:px-3 py-2 border border-red-300 shadow-sm text-xs sm:text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"
            (click)="logout()" [title]="'Logout'">
            <i class="bi bi-box-arrow-right text-sm sm:text-base mr-0 sm:mr-1"></i>
            <!-- <span class="hidden sm:inline">Logout</span> -->
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main content area -->
  <main class="min-h-screen">
    <router-outlet></router-outlet>
  </main>
</div>

<app-spinner></app-spinner>